execute if predicate operation:stats/sneaking run return run function operation:trigger/rc_refresh/s_sword
execute unless score @s melee.rc matches 1.. run return run execute if items entity @s weapon.mainhand *[consumable] run item modify entity @s weapon.mainhand {function:"set_components",components:{"!minecraft:consumable":{}}}
execute if score @s melee.rc.cd matches 1.. if items entity @s weapon.mainhand *[consumable] run return run item modify entity @s weapon.mainhand {function:"set_components",components:{"!minecraft:consumable":{}}}
execute unless items entity @s weapon.mainhand *[consumable] run item modify entity @s weapon.mainhand {function:"set_components",components:{consumable:{consume_seconds:1e38f,"animation":"none",has_consume_particles:false,"sound":"intentionally_empty"}}}